<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link
	href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css"
	rel="stylesheet">
<script
	src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js"></script>
</head>
<body>
<div class='container'>

<h1 align='center'>Employee Details</h1><br><br>

<form  align='center' id='employeeForm' action="http://localhost:8081/Employee/employee" method="get">
    <label for="empID">Employee ID:</label>
   <input type="text" id="empID" name="empID"><br><br>
    
    <label for="empName">Employee Name:</label>
    <input type="text" id="empName" name="empName"><br><br>
    
    <label for="salary">Salary:</label>
    <input type="text" id="salary" name="salary"><br><br>
    
    <label for="job">Job:</label>
    <input type="text" id="job" name="job"><br><br>
    
    <input type="submit" name="click" value="first">
    <input type="submit" name="click" value="next">
    <input type="submit" name="click" value="prev">
    <input type="submit" name="click" value="last">
    <input type="submit" name="click" value="edit">
    <input type="submit" name="click" value="save">
    <input type="submit" name="click" value="clear">
    <input type="submit" name="click" value="delete">
    <input type="submit" name="click" value="first">
    
</form>
</div>
<script>


const xhr = new XMLHttpRequest();

xhr.open('GET', 'http://localhost:8081/Employee/employee', true);

xhr.onreadystatechange = function() {
    if (xhr.readyState === 4 && xhr.status === 200) {
        var res = JSON.parse(xhr.responseText);
        document.getElementById('empID').value = res.empId; 
        document.getElementById('empName').value = res.empName;
        document.getElementById('salary').value = res.empSalary;
        document.getElementById('job').value = res.empJob;
    }
};

xhr.send();


document.getElementById("employeeForm").addEventListner("submit",function(event){
	
	const form=event.target;
	const formData=new formData(form);
	
	var xhr=new XMLHttpRequest();
	xhr.open(form.method,form.action,true);
	
	xhr.onreadystatechange=function(){
		
		if(xhr.readState===4&&xhr.status===200){
			
			var res = JSON.parse(xhr.responseText);
	        document.getElementById('empID').value = res.empId; 
	        document.getElementById('empName').value = res.empName;
	        document.getElementById('salary').value = res.empSalary;
	        document.getElementById('job').value = res.empJob;
		}
		
		
	};
	
	xhr.send(formData);
	
});



</script>
</body>
</html>
